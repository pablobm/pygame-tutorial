<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport"
          content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Use the title from a page's frontmatter if it has one -->
    <title>Intoduction to events</title>
    <link href="/pygame-tutorial/stylesheets/styles.css" rel="stylesheet" />
  </head>
  <body>
      <div class="main-header">
        <p><a href="/pygame-tutorial">&#x2196; Back to index</a></p>
      </div>
    <div class="main-body">
      <h1>Intoduction to events</h1>
      <p>For a game, it&#39;s not enough with moving objects on a screen. We need to tell what the player is doing with the keyboard or the mouse, so that they can control the action.</p>

<p>Each time a key is pressed, or the mouse moves, or some other action takes place, Pygame creates an &quot;event&quot;. An event is a message that the program leaves for us, to let us know that something has happened. These are some examples of events:</p>

<ul>
<li>The &#39;up&#39; key was pressed.</li>
<li>The mouse moved to the position x=143,y=21.</li>
<li>The user clicked the &#39;close&#39; button on the window.</li>
</ul>

<p>Our program will need to collect these events, read them, and make changes to the game accordingly.</p>

<p>Events happen all the time while the program is running. They accumulate in a queue waiting for us to check them. Because there can be several events waiting for us, we need a loop to deal with each and every one of them before we carry on drawing the scene.</p>

<p>This is the simplest loop to deal with events:</p>
<div class="highlight"><pre><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
  <span class="c"># deal with `event` here</span>
</pre>
</div>

<p>This is what the codes does:</p>

<ul>
<li><code>pygame.event.get()</code> gives us a list of events that need to be dealt with. This is all the events that have been waiting in queue since the last time we checked.</li>
<li>For each event, the code inside the loop will run. We&#39;ll be able to refer to the event as <code>event</code>.</li>
</ul>

<p>Here&#39;s a useful example. The following snippet of code closes the program when the user clicks the &quot;close&quot; button on the window:</p>
<div class="highlight"><pre><span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pygame</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">():</span>
  <span class="k">if</span> <span class="n">event</span><span class="o">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">pygame</span><span class="o">.</span><span class="n">QUIT</span><span class="p">:</span>
    <span class="nb">exit</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre>
</div>

<p>So how does this work? This is what each line of code is doing:</p>

<ol>
<li>It loops through every event in the event queue.</li>
<li>For each event, it checks if its type is <code>pygame.QUIT</code>. This is the event that appears when the close button is clicked.</li>
<li>If the event is indeed the &quot;quit&quot; event, it uses the <code>exit</code> function to close the program.</li>
</ol>

<p>Go on and add that snippet to your current program. Where do you think it goes? (Hint: it&#39;s not at the end).</p>


      <div class="pagination-links">
          <p class="pagination-links__prev"><a href="/pygame-tutorial/lessons/00800-starfield/">Previous: Star field</a></p>
          <p class="pagination-links__next"><a href="/pygame-tutorial/lessons/01000-events-mouse/">Next: Mouse events</a></p>
      </div>
    </div>
    <footer class="main-footer">
      <p>A work in progress by <a href="http://www.pablobm.com">Pablo Brasero Moreno</a></p>
      <p>Source code at <a href="https://github.com/pablobm/pygame-tutorial">http://github.com/pablobm/pygame-tutorial</a></p>
      <p>Last updated on <time>2019-07-03</time></p>
    </footer>
  </body>
</html>
